(()=>{let e=document.getElementById("app"),t=new Date,n=`${t.getMonth()+1}.${t.getDate()}.${t.getFullYear()}`;e.addEventListener("submit",(async function(t){t.preventDefault();const c=document.getElementById("zip").value,l=document.getElementById("feelings").value,s=document.getElementById("generate");s.disabled=!0,e.style.cursor="default",s.style.background="gray";try{const e=await a(c),t=Math.round(e.main.temp);await o("/addData",{temperature:t,date:n,userResponse:l}),await d()}catch(r){document.getElementById("temp").textContent="Temperature: City not found."}finally{s.disabled=!1,s.style.background="#3b4a6b",e.style.cursor="pointer"}}));const a=async e=>{const t=`https://api.openweathermap.org/data/2.5/weather?zip=${e}&appid=64524c1bac65e0a78daab5753ee3e118&units=metric`,a=await fetch(t);return a.ok||(console.log(feelings.value),document.getElementById("temp").textContent="Temperature: City not found.",document.getElementById("date").textContent=`Date: ${n}`,document.getElementById("content").textContent=`Feeling: ${feelings.value}`),await a.json()},o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/addData",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n.json()},d=async()=>{const e=await fetch("/all");try{const t=await e.json();document.getElementById("date").textContent=`Date: ${t.date}`,document.getElementById("temp").textContent=`Temperature: ${t.temperature} degrees`,document.getElementById("content").textContent=`Feeling: ${t.userResponse}`}catch(t){console.log(t)}}})();
//# sourceMappingURL=main.e6a16d49.js.map