{"version":3,"file":"static/js/main.e6a16d49.js","mappings":"MAGA,IAAIA,EAAWC,SAASC,eAAe,OAGnCC,EAAI,IAAIC,KACRC,EAAU,GAAGF,EAAEG,WAAa,KAAKH,EAAEI,aAAaJ,EAAEK,gBAGtDR,EAASS,iBAAiB,UA8C1BC,eAAmCC,GACjCA,EAAEC,iBACF,MAAMC,EAAMZ,SAASC,eAAe,OAAOY,MACrCC,EAAWd,SAASC,eAAe,YAAYY,MAC/CE,EAAcf,SAASC,eAAe,YAC5Cc,EAAYC,UAAW,EACvBjB,EAASkB,MAAMC,OAAS,UACxBH,EAAYE,MAAME,WAAa,OAE/B,IACE,MAAMC,QAAoBC,EAAWT,GAC/BU,EAAcC,KAAKC,MAAMJ,EAAYK,KAAKC,YAE1CC,EAAS,WAAY,CACzBL,cACAM,KAAMxB,EACNyB,aAAcf,UAEVgB,GACR,CAAE,MAAOC,GACP/B,SAASC,eAAe,QAAQ+B,YAC9B,8BACJ,CAAC,QACCjB,EAAYC,UAAW,EACvBD,EAAYE,MAAME,WAAa,UAC/BpB,EAASkB,MAAMC,OAAS,SAC1B,CACF,IAtEA,MAAMG,EAAaZ,UACjB,MAAMwB,EAAM,uDAAarB,wDACnBsB,QAAiBC,MAAMF,GAU7B,OATKC,EAASE,KACZC,QAAQC,IAAIxB,SAASD,OACrBb,SAASC,eAAe,QAAQ+B,YAC9B,+BACFhC,SAASC,eAAe,QAAQ+B,YAAc,SAAS5B,IACvDJ,SAASC,eACP,WACA+B,YAAc,YAAYlB,SAASD,eAE1BqB,EAASK,MAAM,EAIxBZ,EAAWlB,iBAAwC,IAAjCwB,EAAGO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,WAAYG,EAAIH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChD,MAAMN,QAAiBC,MAAMF,EAAK,CAChCW,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUL,KAEvB,aAAaT,EAASK,MACxB,EAGMT,EAAerB,UACnB,MAAMwC,QAAgBd,MAAM,QAC5B,IACE,MAAMe,QAAgBD,EAAQV,OAC9BvC,SAASC,eAAe,QAAQ+B,YAAc,SAASkB,EAAQtB,OAC/D5B,SAASC,eACP,QACA+B,YAAc,gBAAgBkB,EAAQ5B,sBACxCtB,SAASC,eACP,WACA+B,YAAc,YAAYkB,EAAQrB,cACtC,CAAE,MAAOE,GACPM,QAAQC,IAAIP,EACd,E","sources":["index.js"],"sourcesContent":["// Global Variables\r\nconst apiKey = \"64524c1bac65e0a78daab5753ee3e118\";\r\nconst baseUrl = \"https://api.openweathermap.org/data/2.5/weather?zip=\";\r\nlet generate = document.getElementById(\"app\");\r\n\r\n// Create a new date instance dynamically\r\nlet d = new Date();\r\nlet newDate = `${d.getMonth() + 1}.${d.getDate()}.${d.getFullYear()}`;\r\n\r\n// Event listener to add function to the button\r\ngenerate.addEventListener(\"submit\", generateWeatherData);\r\n\r\n// Async function to GET weather data from the OpenWeatherMap API\r\nconst getWeather = async (zip) => {\r\n  const url = `${baseUrl}${zip}&appid=${apiKey}&units=metric`;\r\n  const response = await fetch(url);\r\n  if (!response.ok) {\r\n    console.log(feelings.value);\r\n    document.getElementById(\"temp\").textContent =\r\n      \"Temperature: City not found.\";\r\n    document.getElementById(\"date\").textContent = `Date: ${newDate}`;\r\n    document.getElementById(\r\n      \"content\"\r\n    ).textContent = `Feeling: ${feelings.value}`;\r\n  }\r\n  return await response.json();\r\n};\r\n\r\n// Async function to POST data to the server\r\nconst postData = async (url = \"/addData\", data = {}) => {\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  });\r\n  return await response.json();\r\n};\r\n\r\n// Function to update UI with received data\r\nconst retrieveData = async () => {\r\n  const request = await fetch(\"/all\");\r\n  try {\r\n    const allData = await request.json();\r\n    document.getElementById(\"date\").textContent = `Date: ${allData.date}`;\r\n    document.getElementById(\r\n      \"temp\"\r\n    ).textContent = `Temperature: ${allData.temperature} degrees`;\r\n    document.getElementById(\r\n      \"content\"\r\n    ).textContent = `Feeling: ${allData.userResponse}`;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// handle the button click\r\nasync function generateWeatherData(e) {\r\n  e.preventDefault();\r\n  const zip = document.getElementById(\"zip\").value;\r\n  const feelings = document.getElementById(\"feelings\").value;\r\n  const generateBtn = document.getElementById(\"generate\");\r\n  generateBtn.disabled = true;\r\n  generate.style.cursor = \"default\";\r\n  generateBtn.style.background = \"gray\";\r\n\r\n  try {\r\n    const weatherData = await getWeather(zip);\r\n    const temperature = Math.round(weatherData.main.temp);\r\n\r\n    await postData(\"/addData\", {\r\n      temperature,\r\n      date: newDate,\r\n      userResponse: feelings,\r\n    });\r\n    await retrieveData();\r\n  } catch (error) {\r\n    document.getElementById(\"temp\").textContent =\r\n      \"Temperature: City not found.\";\r\n  } finally {\r\n    generateBtn.disabled = false;\r\n    generateBtn.style.background = \"#3b4a6b\";\r\n    generate.style.cursor = \"pointer\";\r\n  }\r\n}\r\n"],"names":["generate","document","getElementById","d","Date","newDate","getMonth","getDate","getFullYear","addEventListener","async","e","preventDefault","zip","value","feelings","generateBtn","disabled","style","cursor","background","weatherData","getWeather","temperature","Math","round","main","temp","postData","date","userResponse","retrieveData","error","textContent","url","response","fetch","ok","console","log","json","arguments","length","undefined","data","method","headers","body","JSON","stringify","request","allData"],"sourceRoot":""}